<?xml version="1.0" encoding="UTF-8" ?>
<odoo>
    <record
        id="demo_edi_exc_template_order_response_out"
        model="edi.exchange.template.output"
    >
        <field name="name">UBL OrderResponse output</field>
        <field name="code">ubl.generate.OrderResponse</field>
        <field name="output_type">xml</field>
        <field name="backend_type_id" ref="edi_ubl_oca.edi_backend_type_ubl" />
        <field name="type_id" ref="demo_edi_exc_type_order_response_out" />
        <field name="template_id" ref="qwb_tmpl_ubl_order_response_out" />
        <field name="code_snippet">
seller = record.company_id.partner_id
buyer = record.partner_id

seller_party = get_party_data(exchange_record, seller)
buyer_party = get_party_data(exchange_record, buyer)
delivery = record.picking_ids.filtered(lambda x: x.picking_type_id.code == "outgoing")

_result = {
    "seller_party": seller_party,
    "buyer_party": buyer_party,
    "delivery": delivery,
}

provider = get_info_provider(exchange_record, work_ctx=_result)
if provider:
    _result["info"] = provider.generate_info()

result = _result
        </field>
    </record>
</odoo>
